{{/*
  Handles light/dark favicons. Configure in hugo.toml:
  [params]
    faviconLight = "images/favicon-light.png"
    faviconDark = "images/favicon-dark.png"
    faviconApple = "images/favicon-apple.png" # optional
  The dark icon doubles as the fallback for legacy browsers.
*/}}
{{ $fallback := .Site.Params.faviconDark | default (.Site.Params.favicon | default "images/favicon.png") }}
{{ $light := .Site.Params.faviconLight | default $fallback }}
{{ $apple := .Site.Params.faviconApple }}
<link rel="icon" type="image/png" href="{{ $light | absURL }}" media="(prefers-color-scheme: light)">
<link rel="icon" type="image/png" href="{{ $fallback | absURL }}" media="(prefers-color-scheme: dark)">
<link rel="icon" type="image/png" href="{{ $fallback | absURL }}">
{{ with $apple }}<link rel="apple-touch-icon" href="{{ . | absURL }}">{{ else }}<link rel="apple-touch-icon" href="{{ $light | absURL }}">{{ end }}
